import{s as Te,f as Ee,n as le,r as We,c as je,i as He,h as ne}from"../chunks/scheduler.DKxCvFLz.js";import{S as Ge,i as Me,g as C,s as P,e as se,C as Ne,h as T,f as _,c as L,y as Q,j as G,k as g,D as j,A as y,a as A,B as ee,E as V,m as M,n as N,l as R,o as te,F as Ae}from"../chunks/index.cm8YmClm.js";import{p as De}from"../chunks/parse.RrI1B0B4.js";import{k as Pe,l as Le}from"../chunks/singletons.8eOjJjEz.js";import{r as Oe}from"../chunks/index.hnZ6SqWO.js";const Xe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function z(t){return t?.length!==void 0?t:Array.from(t)}const ze=(t,e={})=>{fe(e);let{colors:a=["#FFC700","#FF0000","#2E3191","#41BBC7"],duration:l=3500,force:r=.5,particleCount:o=150,particleShape:s="mix",particleSize:n=12,destroyAfterDone:u=!0,stageHeight:f=800,stageWidth:d=1600}=e;(function(m){const v=Y("style");v.dataset.neoconfetti="",v.textContent='@keyframes fk9XWG_y-axis{to{transform:translate3d(0,var(--stage-height),0)}}@keyframes fk9XWG_x-axis{to{transform:translate3d(var(--x-landing-point),0,0)}}@keyframes fk9XWG_rotation{50%{transform:rotate3d(var(--half-rotation),180deg)}to{transform:rotate3d(var(--rotation),360deg)}}.fk9XWG_container{width:0;height:0;z-index:1200;position:relative;overflow:visible}.fk9XWG_particle{animation:x-axis var(--duration-chaos)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:fk9XWG_x-axis}.fk9XWG_particle>div{animation:y-axis var(--duration-chaos)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--width);height:var(--height);animation-name:fk9XWG_y-axis;position:absolute;top:0;left:0}.fk9XWG_particle>div:before{height:100%;width:100%;content:"";background-color:var(--bgcolor);animation:rotation var(--rotation-duration)infinite linear;border-radius:var(--border-radius);animation-name:fk9XWG_rotation;display:block}',Z(document.head,v)})(),t.classList.add("fk9XWG_container"),t.style.setProperty("--stage-height",f+"px");let b,i=ce(o,a),c=re(t,i);function h(m,v){const D=x(X()*(Be-1)),k=s!=="rectangles"&&(s==="circles"||Ve(D)),E=(S,p)=>m.style.setProperty(S,p+"");E("--x-landing-point",J(B(ue(v,90)-180),0,180,-d/2,d/2)+"px"),E("--duration-chaos",l-x(1e3*X())+"ms");const O=X()<Ie?F(X()*qe,2):0;E("--x1",O),E("--x2",-1*O),E("--x3",O),E("--x4",F(B(J(B(ue(v,90)-180),0,180,-1,1)),4)),E("--y1",F(X()*ie,4)),E("--y2",F(X()*r*(Se()?1:-1),4)),E("--y3",ie),E("--y4",F(xe(J(B(v-180),0,180,r,-r),0),4)),E("--width",(k?n:x(4*X())+n/2)+"px"),E("--height",(k?n:x(2*X())+n)+"px");const H=D.toString(2).padStart(3,"0").split("");E("--half-rotation",H.map(S=>+S/2+"")),E("--rotation",H),E("--rotation-duration",F(X()*(Fe-oe)+oe)+"ms"),E("--border-radius",k?"50%":0)}for(const[m,v]of Object.entries(c))h(v,i[+m].degree);return Promise.resolve().then(()=>b=setTimeout(()=>u&&(t.innerHTML=""),l)),{update(m){fe(m);const v=m.particleCount??o,D=m.colors??a,k=m.stageHeight??f;if(i=ce(v,D),v===o&&JSON.stringify(a)!==JSON.stringify(D))for(const[E,{color:O}]of Object.entries(i))c[+E].style.setProperty("--bgcolor",O);v!==o&&(t.innerHTML="",c=re(t,i)),u&&!m.destroyAfterDone&&clearTimeout(b),t.style.setProperty("--stage-height",k+"px"),a=D,l=m.duration??l,r=m.force??r,o=v,s=m.particleShape??s,n=m.particleSize??n,u=m.destroyAfterDone??u,f=k,d=m.stageWidth??d},destroy(){clearTimeout(b)}}};function re(t,e=[]){const a=[];for(const{color:l}of e){const r=Y("div");r.className="fk9XWG_particle",r.style.setProperty("--bgcolor",l);const o=Y("div");Z(r,o),Z(t,r),a.push(r)}return a}const oe=200,Fe=800,Ie=.1,qe=.3,ie=.5,B=Math.abs,X=Math.random,x=Math.round,xe=Math.max,Y=t=>document.createElement(t),Z=(t,e)=>t.appendChild(e),ce=(t,e)=>Array.from({length:t},(a,l)=>({color:e[l%e.length],degree:360*l/t})),F=(t,e=2)=>x((t+Number.EPSILON)*10**e)/10**e,J=(t,e,a,l,r)=>(t-e)*(r-l)/(a-e)+l,ue=(t,e)=>t+e>360?t+e-360:t+e,Se=()=>X()>.5,Be=6,Ve=t=>t!==1&&Se(),$=t=>t===void 0,I=(t,e)=>{if(!$(t)&&Number.isSafeInteger(t)&&t<0)throw new Error(e+" must be a positive integer")},fe=({particleCount:t,duration:e,colors:a,particleSize:l,force:r,stageHeight:o,stageWidth:s,particleShape:n})=>{if(I(t,"particleCount"),I(e,"duration"),I(l,"particleSize"),I(r,"force"),I(o,"stageHeight"),I(s,"stageWidth"),!$(n)&&!/^(mix|circles|rectangles)$/i.test(n))throw new Error('particlesShape should be either "mix" or "circles" or "rectangle"');if(!$(a)&&!Array.isArray(a))throw new Error("colors must be an array of strings");if(r>1)throw new Error("force must be within 0 and 1")},Ue=Pe("invalidate_all");function Re(t){return Le.apply_action(t)}function Je(t){const e=JSON.parse(t);return e.data&&(e.data=De(e.data)),e}function de(t){return HTMLElement.prototype.cloneNode.call(t)}function Ke(t,e=()=>{}){const a=async({action:r,result:o,reset:s=!0,invalidateAll:n=!0})=>{o.type==="success"&&(s&&HTMLFormElement.prototype.reset.call(t),n&&await Ue()),(location.origin+location.pathname===r.origin+r.pathname||o.type==="redirect"||o.type==="error")&&Re(o)};async function l(r){if((r.submitter?.hasAttribute("formmethod")?r.submitter.formMethod:de(t).method)!=="post")return;r.preventDefault();const s=new URL(r.submitter?.hasAttribute("formaction")?r.submitter.formAction:de(t).action),n=new FormData(t),u=r.submitter?.getAttribute("name");u&&n.append(u,r.submitter?.getAttribute("value")??"");const f=new AbortController;let d=!1;const i=await e({action:s,cancel:()=>d=!0,controller:f,formData:n,formElement:t,submitter:r.submitter})??a;if(d)return;let c;try{const h=await fetch(s,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:n,signal:f.signal});c=Je(await h.text()),c.type==="error"&&(c.status=h.status)}catch(h){if(h?.name==="AbortError")return;c={type:"error",error:h}}i({action:s,formData:n,formElement:t,update:h=>a({action:s,result:c,reset:h?.reset,invalidateAll:h?.invalidateAll}),result:c})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",l),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",l)}}}const Ce="(prefers-reduced-motion: reduce)",Qe=()=>window.matchMedia(Ce).matches,Ye=Oe(Qe(),t=>{{const e=l=>{t(l.matches)},a=window.matchMedia(Ce);return a.addEventListener("change",e),()=>{a.removeEventListener("change",e)}}}),{document:K,window:Ze}=Xe;function he(t,e,a){const l=t.slice();return l[9]=e[a],l}function me(t,e,a){const l=t.slice();return l[12]=e[a],l}function pe(t,e,a){const l=t.slice();l[15]=e[a],l[9]=a;const r=l[9]===l[3];return l[16]=r,l}function _e(t,e,a){const l=t.slice();l[15]=e[a],l[25]=a;const r=l[0].answers[l[9]]?.[l[25]];l[18]=r;const o=l[0].guesses[l[9]]?.[l[25]]??"";l[19]=o;const s=l[16]&&l[25]===l[0].guesses[l[9]].length;l[20]=s;const n=l[18]==="x";l[21]=n;const u=l[18]==="c";l[22]=u;const f=l[18]==="_";return l[23]=f,l}function $e(t){let e;return{c(){e=M("empty")},l(a){e=N(a,"empty")},m(a,l){A(a,e,l)},d(a){a&&_(e)}}}function et(t){let e;return{c(){e=M("(absent)")},l(a){e=N(a,"(absent)")},m(a,l){A(a,e,l)},d(a){a&&_(e)}}}function tt(t){let e;return{c(){e=M("(present)")},l(a){e=N(a,"(present)")},m(a,l){A(a,e,l)},d(a){a&&_(e)}}}function at(t){let e;return{c(){e=M("(correct)")},l(a){e=N(a,"(correct)")},m(a,l){A(a,e,l)},d(a){a&&_(e)}}}function ge(t){let e,a=t[19]+"",l,r,o,s,n,u,f;function d(c,h){return c[21]?at:c[22]?tt:c[23]?et:$e}let b=d(t),i=b(t);return{c(){e=C("div"),l=M(a),r=P(),o=C("span"),i.c(),s=P(),n=C("input"),this.h()},l(c){e=T(c,"DIV",{class:!0});var h=G(e);l=N(h,a),r=L(h),o=T(h,"SPAN",{class:!0});var m=G(o);i.l(m),m.forEach(_),s=L(h),n=T(h,"INPUT",{name:!0,type:!0}),h.forEach(_),this.h()},h(){g(o,"class","visually-hidden"),g(n,"name","guess"),n.disabled=u=!t[16],g(n,"type","hidden"),n.value=f=t[19],g(e,"class","letter svelte-1pg2j5l"),j(e,"exact",t[21]),j(e,"close",t[22]),j(e,"missing",t[23]),j(e,"selected",t[20])},m(c,h){A(c,e,h),y(e,l),y(e,r),y(e,o),i.m(o,null),y(e,s),y(e,n)},p(c,h){h&1&&a!==(a=c[19]+"")&&te(l,a),b!==(b=d(c))&&(i.d(1),i=b(c),i&&(i.c(),i.m(o,null))),h&8&&u!==(u=!c[16])&&(n.disabled=u),h&1&&f!==(f=c[19])&&(n.value=f),h&1&&j(e,"exact",c[21]),h&1&&j(e,"close",c[22]),h&1&&j(e,"missing",c[23]),h&9&&j(e,"selected",c[20])},d(c){c&&_(e),i.d()}}}function be(t){let e,a,l=t[9]+1+"",r,o,s,n,u=z(Array(5)),f=[];for(let d=0;d<u.length;d+=1)f[d]=ge(_e(t,u,d));return{c(){e=C("h2"),a=M("Row "),r=M(l),o=P(),s=C("div");for(let d=0;d<f.length;d+=1)f[d].c();n=P(),this.h()},l(d){e=T(d,"H2",{class:!0});var b=G(e);a=N(b,"Row "),r=N(b,l),b.forEach(_),o=L(d),s=T(d,"DIV",{class:!0});var i=G(s);for(let c=0;c<f.length;c+=1)f[c].l(i);n=L(i),i.forEach(_),this.h()},h(){g(e,"class","visually-hidden"),g(s,"class","row svelte-1pg2j5l"),j(s,"current",t[16])},m(d,b){A(d,e,b),y(e,a),y(e,r),A(d,o,b),A(d,s,b);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m(s,null);y(s,n)},p(d,b){if(b&9){u=z(Array(5));let i;for(i=0;i<u.length;i+=1){const c=_e(d,u,i);f[i]?f[i].p(c,b):(f[i]=ge(c),f[i].c(),f[i].m(s,n))}for(;i<f.length;i+=1)f[i].d(1);f.length=u.length}b&8&&j(s,"current",d[16])},d(d){d&&(_(e),_(o),_(s)),V(f,d)}}}function lt(t){let e,a,l,r,o,s,n="back",u,f,d,b=z(["qwertyuiop","asdfghjkl","zxcvbnm"]),i=[];for(let c=0;c<3;c+=1)i[c]=ye(he(t,b,c));return{c(){e=C("div"),a=C("button"),l=M("enter"),o=P(),s=C("button"),s.textContent=n,u=P();for(let c=0;c<3;c+=1)i[c].c();this.h()},l(c){e=T(c,"DIV",{class:!0});var h=G(e);a=T(h,"BUTTON",{"data-key":!0,class:!0});var m=G(a);l=N(m,"enter"),m.forEach(_),o=L(h),s=T(h,"BUTTON",{"data-key":!0,formaction:!0,name:!0,class:!0,"data-svelte-h":!0}),Q(s)!=="svelte-1ptb1bp"&&(s.textContent=n),u=L(h);for(let v=0;v<3;v+=1)i[v].l(h);h.forEach(_),this.h()},h(){g(a,"data-key","enter"),a.disabled=r=!t[6],g(a,"class","svelte-1pg2j5l"),j(a,"selected",t[6]),g(s,"data-key","backspace"),g(s,"formaction","?/update"),g(s,"name","key"),s.value="backspace",g(s,"class","svelte-1pg2j5l"),g(e,"class","keyboard svelte-1pg2j5l")},m(c,h){A(c,e,h),y(e,a),y(a,l),y(e,o),y(e,s),y(e,u);for(let m=0;m<3;m+=1)i[m]&&i[m].m(e,null);f||(d=ee(s,"click",Ae(t[8])),f=!0)},p(c,h){if(h&64&&r!==(r=!c[6])&&(a.disabled=r),h&64&&j(a,"selected",c[6]),h&301){b=z(["qwertyuiop","asdfghjkl","zxcvbnm"]);let m;for(m=0;m<3;m+=1){const v=he(c,b,m);i[m]?i[m].p(v,h):(i[m]=ye(v),i[m].c(),i[m].m(e,null))}for(;m<3;m+=1)i[m].d(1)}},d(c){c&&_(e),V(i,c),f=!1,d()}}}function nt(t){let e,a,l=t[4]?"you won :)":"game over :(",r,o,s=!t[4]&&t[0].answer&&ke(t);return{c(){s&&s.c(),e=P(),a=C("button"),r=M(l),o=M(" play again?"),this.h()},l(n){s&&s.l(n),e=L(n),a=T(n,"BUTTON",{"data-key":!0,class:!0,formaction:!0});var u=G(a);r=N(u,l),o=N(u," play again?"),u.forEach(_),this.h()},h(){g(a,"data-key","enter"),g(a,"class","restart selected svelte-1pg2j5l"),g(a,"formaction","?/restart")},m(n,u){s&&s.m(n,u),A(n,e,u),A(n,a,u),y(a,r),y(a,o)},p(n,u){!n[4]&&n[0].answer?s?s.p(n,u):(s=ke(n),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),u&16&&l!==(l=n[4]?"you won :)":"game over :(")&&te(r,l)},d(n){n&&(_(e),_(a)),s&&s.d(n)}}}function ve(t){let e,a,l,r,o,s,n;return{c(){e=C("button"),a=M(t[12]),this.h()},l(u){e=T(u,"BUTTON",{"data-key":!0,class:!0,formaction:!0,name:!0,"aria-label":!0});var f=G(e);a=N(f,t[12]),f.forEach(_),this.h()},h(){g(e,"data-key",t[12]),g(e,"class",l=ne(t[2][t[12]])+" svelte-1pg2j5l"),e.disabled=r=t[0].guesses[t[3]].length===5,g(e,"formaction","?/update"),g(e,"name","key"),e.value=t[12],g(e,"aria-label",o=t[12]+" "+(t[5][t[12]]||""))},m(u,f){A(u,e,f),y(e,a),s||(n=ee(e,"click",Ae(t[8])),s=!0)},p(u,f){f&4&&l!==(l=ne(u[2][u[12]])+" svelte-1pg2j5l")&&g(e,"class",l),f&9&&r!==(r=u[0].guesses[u[3]].length===5)&&(e.disabled=r),f&32&&o!==(o=u[12]+" "+(u[5][u[12]]||""))&&g(e,"aria-label",o)},d(u){u&&_(e),s=!1,n()}}}function ye(t){let e,a,l=z(t[9]),r=[];for(let o=0;o<l.length;o+=1)r[o]=ve(me(t,l,o));return{c(){e=C("div");for(let o=0;o<r.length;o+=1)r[o].c();a=P(),this.h()},l(o){e=T(o,"DIV",{class:!0});var s=G(e);for(let n=0;n<r.length;n+=1)r[n].l(s);a=L(s),s.forEach(_),this.h()},h(){g(e,"class","row svelte-1pg2j5l")},m(o,s){A(o,e,s);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,null);y(e,a)},p(o,s){if(s&301){l=z(o[9]);let n;for(n=0;n<l.length;n+=1){const u=me(o,l,n);r[n]?r[n].p(u,s):(r[n]=ve(u),r[n].c(),r[n].m(e,a))}for(;n<r.length;n+=1)r[n].d(1);r.length=l.length}},d(o){o&&_(e),V(r,o)}}}function ke(t){let e,a,l=t[0].answer+"",r,o;return{c(){e=C("p"),a=M('the answer was "'),r=M(l),o=M('"')},l(s){e=T(s,"P",{});var n=G(e);a=N(n,'the answer was "'),r=N(n,l),o=N(n,'"'),n.forEach(_)},m(s,n){A(s,e,n),y(e,a),y(e,r),y(e,o)},p(s,n){n&1&&l!==(l=s[0].answer+"")&&te(r,l)},d(s){s&&_(e)}}}function we(t){let e,a,l,r;return{c(){e=C("div"),this.h()},l(o){e=T(o,"DIV",{style:!0}),G(e).forEach(_),this.h()},h(){R(e,"position","absolute"),R(e,"left","50%"),R(e,"top","30%")},m(o,s){A(o,e,s),l||(r=Ee(a=ze.call(null,e,{particleCount:t[7]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),l=!0)},p(o,s){a&&He(a.update)&&s&128&&a.update.call(null,{particleCount:o[7]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})},d(o){o&&_(e),l=!1,r()}}}function st(t){let e,a,l,r="Sverdle",o,s,n,u="How to play",f,d,b,i,c,h,m,v,D=z(Array(6)),k=[];for(let p=0;p<D.length;p+=1)k[p]=be(pe(t,D,p));function E(p,W){return p[4]||p[0].answers.length>=6?nt:lt}let O=E(t),H=O(t),S=t[4]&&we(t);return{c(){e=C("meta"),a=P(),l=C("h1"),l.textContent=r,o=P(),s=C("form"),n=C("a"),n.textContent=u,f=P(),d=C("div");for(let p=0;p<k.length;p+=1)k[p].c();b=P(),i=C("div"),H.c(),c=P(),S&&S.c(),h=se(),this.h()},l(p){const W=Ne("svelte-18lvto8",K.head);e=T(W,"META",{name:!0,content:!0}),W.forEach(_),a=L(p),l=T(p,"H1",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-16hvqlg"&&(l.textContent=r),o=L(p),s=T(p,"FORM",{method:!0,action:!0,class:!0});var w=G(s);n=T(w,"A",{class:!0,href:!0,"data-svelte-h":!0}),Q(n)!=="svelte-1w3fhu3"&&(n.textContent=u),f=L(w),d=T(w,"DIV",{class:!0});var q=G(d);for(let U=0;U<k.length;U+=1)k[U].l(q);q.forEach(_),b=L(w),i=T(w,"DIV",{class:!0});var ae=G(i);H.l(ae),ae.forEach(_),w.forEach(_),c=L(p),S&&S.l(p),h=se(),this.h()},h(){K.title="Sverdle",g(e,"name","description"),g(e,"content","A Wordle clone written in SvelteKit"),g(l,"class","visually-hidden"),g(n,"class","how-to-play svelte-1pg2j5l"),g(n,"href","/sverdle/how-to-play"),g(d,"class","grid svelte-1pg2j5l"),j(d,"playing",!t[4]),j(d,"bad-guess",t[1]?.badGuess),g(i,"class","controls svelte-1pg2j5l"),g(s,"method","POST"),g(s,"action","?/enter"),g(s,"class","svelte-1pg2j5l")},m(p,W){y(K.head,e),A(p,a,W),A(p,l,W),A(p,o,W),A(p,s,W),y(s,n),y(s,f),y(s,d);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(d,null);y(s,b),y(s,i),H.m(i,null),A(p,c,W),S&&S.m(p,W),A(p,h,W),m||(v=[ee(Ze,"keydown",rt),Ee(Ke.call(null,s,ot))],m=!0)},p(p,[W]){if(W&9){D=z(Array(6));let w;for(w=0;w<D.length;w+=1){const q=pe(p,D,w);k[w]?k[w].p(q,W):(k[w]=be(q),k[w].c(),k[w].m(d,null))}for(;w<k.length;w+=1)k[w].d(1);k.length=D.length}W&16&&j(d,"playing",!p[4]),W&2&&j(d,"bad-guess",p[1]?.badGuess),O===(O=E(p))&&H?H.p(p,W):(H.d(1),H=O(p),H&&(H.c(),H.m(i,null))),p[4]?S?S.p(p,W):(S=we(p),S.c(),S.m(h.parentNode,h)):S&&(S.d(1),S=null)},i:le,o:le,d(p){p&&(_(a),_(l),_(o),_(s),_(c),_(h)),_(e),V(k,p),H.d(),S&&S.d(p),m=!1,We(v)}}}function rt(t){t.metaKey||document.querySelector(`[data-key="${t.key}" i]`)?.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}const ot=()=>({update:t})=>{t({reset:!1})};function it(t,e,a){let l,r,o,s;je(t,Ye,i=>a(7,s=i));let{data:n}=e,{form:u}=e,f,d;function b(i){const c=n.guesses[r],h=i.target.getAttribute("data-key");h==="backspace"?(a(0,n.guesses[r]=c.slice(0,-1),n),u?.badGuess&&a(1,u.badGuess=!1,u)):c.length<5&&a(0,n.guesses[r]+=h,n)}return t.$$set=i=>{"data"in i&&a(0,n=i.data),"form"in i&&a(1,u=i.form)},t.$$.update=()=>{t.$$.dirty&1&&a(4,l=n.answers.at(-1)==="xxxxx"),t.$$.dirty&17&&a(3,r=l?-1:n.answers.length),t.$$.dirty&9&&a(6,o=n.guesses[r]?.length===5),t.$$.dirty&5&&(a(2,f={}),a(5,d={}),n.answers.forEach((i,c)=>{const h=n.guesses[c];for(let m=0;m<5;m+=1){const v=h[m];i[m]==="x"?(a(2,f[v]="exact",f),a(5,d[v]="correct",d)):f[v]||(a(2,f[v]=i[m]==="c"?"close":"missing",f),a(5,d[v]=i[m]==="c"?"present":"absent",d))}}))},[n,u,f,r,l,d,o,s,b]}class mt extends Ge{constructor(e){super(),Me(this,e,it,st,Te,{data:0,form:1})}}export{mt as component};
